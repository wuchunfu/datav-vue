import{b as j,X as p,E}from"./App.2074c692.js";import{o as S,b as $}from"./dom.cd0136fc.js";import{I as F}from"./warning.4e8a34dc.js";import{I as A}from"./edit.bc80ca49.js";import{I as H}from"./delete.490b613d.js";import{I as L}from"./copy.9b5adad9.js";import{I as V,a as z,b as N,c as P,d as W}from"./lock.fc4a609a.js";import{a5 as d,a9 as l,ac as i,a3 as X,b2 as Z,bg as q,bp as G,aC as J,a4 as a,aZ as n,b3 as m,ad as v,ab as K,ag as O,ba as Q,b4 as u,be as R,bf as Y}from"./vendor.60e09344.js";import{I as oo}from"./show.52435ffe.js";import{I as eo}from"./hide.61058b62.js";import{u as no}from"./index.5c42d530.js";const to={},so={t:"1640065966638",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4436",width:"64",height:"64"},co=i("path",{d:"M512 90.125a225 225 0 0 1 225 225 28.125 28.125 0 0 1-56.25 0 168.75 168.75 0 0 0-337.3875-6.328125L343.25 315.125v112.5h450a56.25 56.25 0 0 1 56.25 56.25v365.625a56.25 56.25 0 0 1-56.25 56.25H230.75a56.25 56.25 0 0 1-56.25-56.25V483.875a56.25 56.25 0 0 1 56.25-56.25h56.25V315.125a225 225 0 0 1 225-225z m281.25 393.75H230.75v365.625h562.5V483.875z m-281.25 84.375a56.25 56.25 0 0 1 28.153125 104.9625L540.125 737a28.125 28.125 0 0 1-56.25 0v-63.7875A56.25 56.25 0 0 1 512 568.25z","p-id":"4437"},null,-1),io=[co];function ao(o,t){return d(),l("svg",so,io)}var mo=j(to,[["render",ao]]);const uo=X({name:"EditorContextMenu",components:{IconMoveUp:V,IconMoveDown:z,IconMoveTop:N,IconMoveBottom:P,IconLock:W,IconUnlock:mo,IconShow:oo,IconHide:eo,IconCopy:L,IconEdit:A,IconDelete:H},setup(){const o=Z(),t=q(),{contextMenu:b,selectedCom:c,isLocked:B,isHided:x,contextMenuStyle:_}=no(),s=e=>{c.value&&E.moveCom({id:c.value.id,moveType:e})},C=()=>s(p.up),f=()=>s(p.down),I=()=>s(p.top),k=()=>s(p.bottom),h=()=>{c.value&&(c.value.locked=!c.value.locked)},M=()=>{c.value&&(c.value.hided=!c.value.hided)},w=()=>{const e=c.value;if(e){const T=t.create({content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u76841\u4E2A\u7EC4\u4EF6",negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>Q(F),onPositiveClick:async()=>{T.loading=!0;try{await E.deleteCom(e)}catch(U){o.error(U.message)}}})}},y=()=>{c.value&&(c.value.renameing=!0)},D=()=>{c.value&&E.copyCom(c.value.id)},r=e=>e.preventDefault();return G(()=>{S(document,"contextmenu",r)}),J(()=>{$(document,"contextmenu",r)}),{contextMenu:b,isLocked:B,isHided:x,contextMenuStyle:_,moveUp:C,moveDown:f,moveTop:I,moveBottom:k,lockCom:h,hideCom:M,toDeleteCom:w,renameCom:y,toCopyCom:D}}}),g=o=>(R("data-v-360ec9f4"),o=o(),Y(),o),lo=u(" \u7F6E\u9876 "),ro=u(" \u7F6E\u5E95 "),po=u(" \u4E0A\u79FB\u4E00\u5C42 "),vo=u(" \u4E0B\u79FB\u4E00\u5C42 "),_o=g(()=>i("div",{class:"context-menu-divider"},null,-1)),Co=u(" \u89E3\u9501 "),fo=u(" \u9501\u5B9A "),Io=u(" \u663E\u793A "),ko=u(" \u9690\u85CF "),ho=g(()=>i("div",{class:"context-menu-divider"},null,-1)),Mo=u(" \u91CD\u547D\u540D "),wo=u(" \u590D\u5236 "),yo=u(" \u5220\u9664 "),Do=g(()=>i("div",{class:"context-menu-divider"},null,-1));function Eo(o,t,b,c,B,x){const _=a("IconMoveTop"),s=a("n-icon"),C=a("IconMoveBottom"),f=a("IconMoveUp"),I=a("IconMoveDown"),k=a("IconUnlock"),h=a("IconLock"),M=a("IconShow"),w=a("IconHide"),y=a("IconEdit"),D=a("IconCopy"),r=a("IconDelete");return o.contextMenu.show?(d(),l("div",{key:0,class:"context-menu-wrap",style:K(o.contextMenuStyle)},[i("div",{class:"context-menu-item",onClick:t[0]||(t[0]=(...e)=>o.moveTop&&o.moveTop(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(_)]),_:1}),lo]),i("div",{class:"context-menu-item",onClick:t[1]||(t[1]=(...e)=>o.moveBottom&&o.moveBottom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(C)]),_:1}),ro]),i("div",{class:"context-menu-item",onClick:t[2]||(t[2]=(...e)=>o.moveUp&&o.moveUp(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(f)]),_:1}),po]),i("div",{class:"context-menu-item",onClick:t[3]||(t[3]=(...e)=>o.moveDown&&o.moveDown(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(I)]),_:1}),vo]),_o,i("div",{class:"context-menu-item",onClick:t[4]||(t[4]=(...e)=>o.lockCom&&o.lockCom(...e))},[o.isLocked?(d(),l(v,{key:0},[n(s,{class:"menu-icon"},{default:m(()=>[n(k)]),_:1}),Co],64)):(d(),l(v,{key:1},[n(s,{class:"menu-icon"},{default:m(()=>[n(h)]),_:1}),fo],64))]),i("div",{class:"context-menu-item",onClick:t[5]||(t[5]=(...e)=>o.hideCom&&o.hideCom(...e))},[o.isHided?(d(),l(v,{key:0},[n(s,{class:"menu-icon"},{default:m(()=>[n(M)]),_:1}),Io],64)):(d(),l(v,{key:1},[n(s,{class:"menu-icon"},{default:m(()=>[n(w)]),_:1}),ko],64))]),ho,i("div",{class:"context-menu-item",onClick:t[6]||(t[6]=(...e)=>o.renameCom&&o.renameCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(y)]),_:1}),Mo]),i("div",{class:"context-menu-item",onClick:t[7]||(t[7]=(...e)=>o.toCopyCom&&o.toCopyCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(D)]),_:1}),wo]),i("div",{class:"context-menu-item",onClick:t[8]||(t[8]=(...e)=>o.toDeleteCom&&o.toDeleteCom(...e))},[n(s,{class:"menu-icon"},{default:m(()=>[n(r)]),_:1}),yo]),Do],4)):O("",!0)}var Ho=j(uo,[["render",Eo],["__scopeId","data-v-360ec9f4"]]);export{Ho as default};
