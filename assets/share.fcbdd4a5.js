var d=Object.defineProperty,_=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var i=(e,a,t)=>a in e?d(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,n=(e,a)=>{for(var t in a||(a={}))g.call(a,t)&&i(e,t,a[t]);if(o)for(var t of o(a))v.call(a,t)&&i(e,t,a[t]);return e},c=(e,a)=>_(e,f(a));import{g as p,a as A,_ as l,U as E,A as I,i as T,N as b,G as D,D as U,s as j}from"./App.7eee7745.js";import{c as k,a as y,b as $}from"./vendor.0227b33d.js";const L=[{path:"/screen/:screenId",name:"Screen",props:!0,component:()=>l(()=>import("./index.0a8d08f4.js"),["assets/index.0a8d08f4.js","assets/index.4531aeb4.css","assets/vendor.0227b33d.js","assets/App.7eee7745.js","assets/App.0e26ef44.css","assets/dom.2deab946.js","assets/screen.c0ef26c7.js"])},{path:"/:catchAll(.*)*",name:"NotFound",component:()=>l(()=>import("./index.a7c49360.js"),["assets/index.a7c49360.js","assets/index.fd9b7851.css","assets/vendor.0227b33d.js","assets/App.7eee7745.js","assets/App.0e26ef44.css"]),meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"}}],u=k({history:y(),routes:L}),N=["/login","/auth-redirect","/dev"];u.beforeEach(async(e,a,t)=>{if(e.meta&&e.meta.title?document.title=`${e.meta.title} | ${p.title}`:document.title=p.title,A())if(e.path==="/login")t({path:"/"});else{const{role:r,getUserInfo:m,resetToken:h}=E();if(r.value>0)t();else try{await m(),t(c(n({},e),{replace:!0}))}catch{h(),t(`/login?redirect=${e.path}`)}}else N.some(r=>e.path.startsWith(r))?t():t(`/login?redirect=${e.path}`)});const s=$(I);s.use(T);s.use(b);s.use(D);s.use(U);s.use(j);s.use(u);s.mount("#app");
