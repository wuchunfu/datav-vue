var ge=Object.defineProperty;var _e=(e,o,n)=>o in e?ge(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var X=(e,o,n)=>(_e(e,typeof o!="symbol"?o+"":o,n),n);import{a4 as b,a8 as I,ab as t,aq as he,at as ve,au as fe,ar as Ee,av as Pe,aw as G,ax as q,a2 as U,a$ as x,bd as ee,az as je,a7 as C,aF as T,be as z,b7 as oe,a3 as m,aa as ye,a_ as r,b0 as g,aN as R,bf as te,a9 as S,ae as $,b1 as we,aG as De,bg as be,bh as K,ac as Y,ad as ne,bb as se,bc as re,ah as Ie,bi as Ce,ai as ae,af as $e,aQ as ie}from"./vendor.97d7e3b4.js";import{b as k,s as qe,j as Ge,k as Te,u as Oe,m as Me,n as Se,o as Fe,p as Ae,q as Re,g as ke}from"./App.718241ee.js";import{P as B,a as M}from"./project.9690eea6.js";import{a as Be,r as le}from"./dom.6b90dd47.js";import{I as ue}from"./warning.3f7e1d33.js";import{I as Ne}from"./plus.3ca4200c.js";import{I as ce}from"./edit.bc054393.js";import{I as de}from"./delete.6ed582c9.js";import{I as Je}from"./arrow-down.d8f637fe.js";import{I as Le}from"./search.b4e689d3.js";import{I as Ve}from"./copy.907fc003.js";import{I as Ze,P as Ue}from"./publish-screen.b1c4723d.js";import{I as ze}from"./release.6e088373.js";const Ke={},Ye={t:"1640065322283",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4152",width:"64",height:"64"},Qe=t("path",{d:"M544.91733333 105.344m0 34.13333333l0 190.016q0 34.13333333-34.13333333 34.13333334l0 0q-34.13333333 0-34.13333333-34.13333334l0-190.016q0-34.13333333 34.13333333-34.13333333l0 0q34.13333333 0 34.13333333 34.13333333Z","p-id":"4153"},null,-1),We=t("path",{d:"M559.06021867 136.64840427m-24.13591148 24.13591146l-92.90063146 92.90063148q-24.13591147 24.13591147-48.27182294 0l0 0q-24.13591147-24.13591147 0-48.27182294l92.90063148-92.90063146q24.13591147-24.13591147 48.27182294 0l0 0q24.13591147 24.13591147 0 48.27182292Z","p-id":"4154"},null,-1),He=t("path",{d:"M606.1158784 277.82236801m-24.13591147-24.13591148l-92.90063253-92.90063252q-24.13591147-24.13591147 0-48.27182294l0 0q24.13591147-24.13591147 48.27182294 0l92.90063253 92.90063253q24.13591147 24.13591147 0 48.27182293l0 0q-24.13591147 24.13591147-48.27182294 0Z","p-id":"4155"},null,-1),Xe=t("path",{d:"M479.08266667 918.752m0-34.13333333l0-190.016q0-34.13333333 34.13333333-34.13333334l0 0q34.13333333 0 34.13333333 34.13333334l0 190.016q0 34.13333333-34.13333333 34.13333333l0 0q-34.13333333 0-34.13333333-34.13333333Z","p-id":"4156"},null,-1),xe=t("path",{d:"M464.95190293 887.44080747m24.13591148-24.13591147l92.90063146-92.90063148q24.13591147-24.13591147 48.27182292 0l0 0q24.13591147 24.13591147 0 48.27182295l-92.90063146 92.90063145q-24.13591147 24.13591147-48.27182294 0l0 0q-24.13591147-24.13591147 0-48.27182292Z","p-id":"4157"},null,-1),eo=t("path",{d:"M417.87325013 746.26559467m24.13591147 24.13591146l92.90063147 92.90063146q24.13591147 24.13591147 0 48.27182294l0 0q-24.13591147 24.13591147-48.27182294 0l-92.90063146-92.90063145q-24.13591147-24.13591147 0-48.27182295l0 0q24.13591147-24.13591147 48.27182293 0Z","p-id":"4158"},null,-1),oo=t("path",{d:"M105.29066667 479.12533333m34.13333333 0l190.016 0q34.13333333 0 34.13333333 34.13333334l0 0q0 34.13333333-34.13333333 34.13333333l-190.016 0q-34.13333333 0-34.13333333-34.13333333l0 0q0-34.13333333 34.13333333-34.13333334Z","p-id":"4159"},null,-1),to=t("path",{d:"M136.60367999 465.00323201m24.13591148 24.13591146l92.90063146 92.90063252q24.13591147 24.13591147 0 48.27182294l0 0q-24.13591147 24.13591147-48.27182293 0l-92.90063147-92.90063253q-24.13591147-24.13591147 0-48.27182293l0 0q24.13591147-24.13591147 48.27182294 0Z","p-id":"4160"},null,-1),no=t("path",{d:"M277.77902294 417.93545174m-24.13591147 24.13591146l-92.90063253 92.90063147q-24.13591147 24.13591147-48.27182294 0l0 0q-24.13591147-24.13591147 0-48.27182294l92.90063253-92.90063146q24.13591147-24.13591147 48.27182294 0l0 0q24.13591147 24.13591147 0 48.27182293Z","p-id":"4161"},null,-1),so=t("path",{d:"M918.70933333 544.96m-34.13333333 0l-190.016 0q-34.13333333 0-34.13333333-34.13333333l0 0q0-34.13333333 34.13333333-34.13333334l190.016 0q34.13333333 0 34.13333333 34.13333334l0 0q0 34.13333333-34.13333333 34.13333333Z","p-id":"4162"},null,-1),ro=t("path",{d:"M887.38583573 559.1004928m-24.13591146-24.13591147l-92.90063148-92.90063146q-24.13591147-24.13591147 0-48.27182294l0 0q24.13591147-24.13591147 48.27182294 0l92.90063146 92.90063147q24.13591147 24.13591147 0 48.27182293l0 0q-24.13591147 24.13591147-48.27182292 0Z","p-id":"4163"},null,-1),ao=t("path",{d:"M746.22118293 606.1670784m24.13591147-24.13591147l92.90063146-92.90063253q24.13591147-24.13591147 48.27182294 0l0 0q24.13591147 24.13591147 0 48.27182294l-92.90063146 92.90063253q-24.13591147 24.13591147-48.27182294 0l0 0q-24.13591147-24.13591147 0-48.27182294Z","p-id":"4164"},null,-1),io=t("path",{d:"M510.752 512.77866667m-68.26666667 0a68.26666667 68.26666667 0 1 0 136.53333334 0 68.26666667 68.26666667 0 1 0-136.53333334 0Z","p-id":"4165"},null,-1),lo=[Qe,We,He,Xe,xe,eo,oo,to,no,so,ro,ao,io];function uo(e,o){return b(),I("svg",Ye,lo)}var co=k(Ke,[["render",uo]]),po=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,w=(e,o,n,a)=>{for(var i=a>1?void 0:a?mo(o,n):o,y=e.length-1,c;y>=0;y--)(c=e[y])&&(i=(a?c(o,n,i):c(i))||i);return a&&i&&po(o,n,i),i};he.rawError=!0;let E=class extends Ee{constructor(){super(...arguments);X(this,"allGroups",[])}get group(){const e=this.allGroups.flatMap(o=>o.children);return new B(-1,"\u5168\u90E8\u5E94\u7528",e)}get ungroup(){const e=this.allGroups.find(o=>o.type===M.ungroup);return e||new B(0,"\u672A\u5206\u7EC4",[])}get groups(){return this.allGroups.filter(e=>e.type===M.group)}SET_PROJECTS(e){this.allGroups=e}DELETE_PROJECT(e){const o=this.allGroups.find(n=>n.id===e.gid);o&&(o.children=o.children.filter(n=>n.id!==e.pid))}UPDATE_PROJECT_NAME(e){const o=this.allGroups.find(n=>n.id===e.id);o&&(o.name=e.newName)}MOVE_PROJECT(e){const{pid:o,fromId:n,toId:a}=e,i=this.allGroups.find(c=>c.id===n),y=this.allGroups.find(c=>c.id===a);if(i&&y){const c=i.children.findIndex(P=>P.id===o),d=i.children.splice(c,1)[0];d.groupId=a,y.children.push(d)}}COPY_PROJECT(e){const o=this.allGroups.find(n=>n.id===e.gid);if(o){const n=o.children.find(i=>i.id===e.pid),a=Pe(n);a.id=Math.round(Math.random()*1e3),a.name+="_copy",o.children.push(a)}}CREATE_PROJECT_GROUP(e){const o=new B(e.id,e.name,[]);o.type=M.group,this.allGroups.unshift(o)}DELETE_PROJECT_GROUP(e){const o=this.allGroups.findIndex(a=>a.id===e),n=this.allGroups.find(a=>a.type===M.ungroup);if(o>-1&&n){const[a]=this.allGroups.splice(o,1);a.children.forEach(i=>{i.groupId=n.id,n.children.push(i)})}}async getProjects(){try{const e=await Ge();if(e.data.code===0){const o=e.data.data||[],n=new B(0,"\u672A\u5206\u7EC4",[]);o.forEach(a=>{a.children.forEach(i=>{a.type===M.ungroup?(i.groupId=0,n.children.push(i)):i.groupId=a.id})}),this.SET_PROJECTS([n,...o.filter(a=>a.type===M.group)])}else throw Error(e.data.message)}catch(e){throw e}}async deleteProject(e){try{const o=await Te(e.pid);if(o.data.code===0)this.DELETE_PROJECT(e);else throw Error(o.data.message)}catch(o){throw o}}async updateProjectName(e){try{const o=await Oe(e.id,e.newName);if(o.data.code!==0)throw Error(o.data.message)}catch(o){throw o}}async moveProject(e){try{const{pid:o,fromId:n,toId:a}=e,i=await Me(o,n,a);if(i.data.code===0)this.MOVE_PROJECT(e);else throw Error(i.data.message)}catch(o){throw o}}async copyProject(e){try{const o=await Se(e.pid);if(o.data.code===0)this.COPY_PROJECT(e);else throw Error(o.data.message)}catch(o){throw o}}async createProjectGroup(e){try{const{data:o}=await Fe({name:e});if(o.code===0)this.CREATE_PROJECT_GROUP({id:o.data,name:e});else throw Error(o.message)}catch(o){throw o}}async deleteProjectGroup(e){try{const o=await Ae(e);if(o.data.code===0)this.DELETE_PROJECT_GROUP(e);else throw Error(o.data.message)}catch(o){throw o}}async updateProjectGroupName(e){try{const o=await Re(e.id,e.newName);if(o.data.code!==0)throw Error(o.data.message)}catch(o){throw o}}};w([G],E.prototype,"SET_PROJECTS",1);w([G],E.prototype,"DELETE_PROJECT",1);w([G],E.prototype,"UPDATE_PROJECT_NAME",1);w([G],E.prototype,"MOVE_PROJECT",1);w([G],E.prototype,"COPY_PROJECT",1);w([G],E.prototype,"CREATE_PROJECT_GROUP",1);w([G],E.prototype,"DELETE_PROJECT_GROUP",1);w([q],E.prototype,"getProjects",1);w([q],E.prototype,"deleteProject",1);w([q],E.prototype,"updateProjectName",1);w([q],E.prototype,"moveProject",1);w([q],E.prototype,"copyProject",1);w([q],E.prototype,"createProjectGroup",1);w([q],E.prototype,"deleteProjectGroup",1);w([q],E.prototype,"updateProjectGroupName",1);E=w([ve({dynamic:!0,store:qe,name:"project"})],E);const F=fe(E);const go="//files.pengxiaotian.com",_o=U({name:"MyScreen",components:{IconMove:co,IconCopy:Ve,IconDelete:de,IconEdit:ce,IconPreview:Ze,IconRelease:ze},props:{screen:{type:Object,required:!0}},setup(e){const o=x(),n=ee(),{deleteProject:a,copyProject:i,updateProjectName:y}=F,{id:c,name:d,groupId:P,share:_,thumbnail:u}=je(e.screen),v=C(d.value),D=C(d.value),s=T(()=>u.value?{"background-image":`url(${u.value})`}:{"background-image":`url(${ke.logo})`,"background-size":"50%","background-position":"center center","background-repeat":"no-repeat",filter:"grayscale(1)",opacity:.07}),f=T(()=>{const l=!!_.value;return{published:l,text:l?"\u5DF2\u53D1\u5E03":"\u672A\u53D1\u5E03"}}),O=async()=>{if(v.value)try{await y({id:c.value,newName:v.value}),d.value=v.value}catch(l){o.error(l.message)}else v.value=D.value},j=()=>{i({pid:c.value,gid:P.value})},N=()=>{const l=n.create({content:`${v.value} \u5220\u9664\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u786E\u8BA4\u5220\u9664\uFF1F`,negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>oe(ue),onPositiveClick:async()=>{l.loading=!0;try{await a({pid:c.value,gid:P.value})}catch(h){o.error(h.message)}}})},J=z("dragStart"),L=z("dragEnd"),V=z("publish"),A=new Image;return A.src=`${go}/datav/drag-thumbnail.png`,{name:d,thumbnailStyle:s,publishState:f,screenName:v,oldScreenName:D,onInputBlur:O,confirmCopyProject:j,confirmDeleteProject:N,onDragStart:l=>{J();const h=l.dataTransfer;h&&(h.effectAllowed="move",h.setDragImage(A,30,30),h.setData("text",`${c.value},${P.value}`))},onDragEnd:()=>{L()},doPublish:()=>{V(c.value)}}}}),ho={class:"my-screen"},vo={class:"screen"},fo={class:"screen-info"},Eo={class:"screen-edit"},Po={class:"screen-button"},jo=we(" \u7F16\u8F91 "),yo={class:"main-button"},wo={class:"screen-main"},Do={class:"main-name"},bo={class:"screen-name-input"},Io={class:"publish-info"};function Co(e,o,n,a,i,y){const c=m("n-button"),d=m("router-link"),P=m("IconMove"),_=m("n-icon"),u=m("g-tooltip-popover"),v=m("IconCopy"),D=m("IconDelete"),s=m("IconPreview"),f=m("IconRelease"),O=m("IconEdit");return b(),I("div",ho,[t("div",vo,[t("div",fo,[t("div",{class:"screen-img",style:ye(e.thumbnailStyle)},null,4),t("div",Eo,[t("div",Po,[r(d,{to:{name:"ScreenEditor",params:{projectId:e.screen.id}},target:"_blank",class:"edit-wrap"},{default:g(()=>[r(c,{type:"primary",focusable:!1,class:"edit"},{default:g(()=>[jo]),_:1})]),_:1},8,["to"]),t("div",yo,[r(u,{content:"\u79FB\u52A8"},{default:g(()=>[t("span",{class:"button-span",draggable:"true",onDragstart:o[0]||(o[0]=(...j)=>e.onDragStart&&e.onDragStart(...j)),onDragend:o[1]||(o[1]=(...j)=>e.onDragEnd&&e.onDragEnd(...j))},[r(_,{size:20},{default:g(()=>[r(P)]),_:1})],32)]),_:1}),r(u,{content:"\u590D\u5236"},{default:g(()=>[t("span",{class:"button-span",onClick:o[2]||(o[2]=(...j)=>e.confirmCopyProject&&e.confirmCopyProject(...j))},[r(_,{size:20},{default:g(()=>[r(v)]),_:1})])]),_:1}),r(u,{content:"\u5220\u9664"},{default:g(()=>[t("span",{class:"button-span",onClick:o[3]||(o[3]=(...j)=>e.confirmDeleteProject&&e.confirmDeleteProject(...j))},[r(_,{size:20},{default:g(()=>[r(D)]),_:1})])]),_:1})])]),r(d,{to:{name:"Preview",params:{screenId:e.screen.id}},target:"_blank",class:"preview"},{default:g(()=>[r(u,{content:"\u9884\u89C8"},{default:g(()=>[r(_,{size:18},{default:g(()=>[r(s)]),_:1})]),_:1})]),_:1},8,["to"]),t("div",{class:"public",onClick:o[4]||(o[4]=(...j)=>e.doPublish&&e.doPublish(...j))},[r(u,{content:"\u53D1\u5E03"},{default:g(()=>[r(_,{size:18},{default:g(()=>[r(f)]),_:1})]),_:1})])])]),t("div",wo,[t("div",Do,[r(u,{placement:"top-start",delay:1e3,content:e.screen.name},{default:g(()=>[t("div",bo,[r(_,null,{default:g(()=>[r(O)]),_:1}),R(t("input",{"onUpdate:modelValue":o[5]||(o[5]=j=>e.screenName=j),class:"input",onBlur:o[6]||(o[6]=(...j)=>e.onInputBlur&&e.onInputBlur(...j))},null,544),[[te,e.screenName,void 0,{trim:!0}]])])]),_:1},8,["content"]),t("div",Io,[t("span",{class:S(["dot",{published:e.publishState.published}])},null,2),t("span",null,$(e.publishState.text),1)])])])])])}var $o=k(_o,[["render",Co],["__scopeId","data-v-361fd759"]]);const qo="//files.pengxiaotian.com",Go=U({name:"ProjectList",components:{MyScreen:$o,PublishScreen:Ue,IconSearch:Le,IconArrowDown:Je},props:{group:Object},setup(e){const o=C(""),n=C("name"),a={name:"\u6309\u540D\u79F0\u6392\u5E8F",createAt:"\u6309\u521B\u5EFA\u65F6\u95F4\u6392\u5E8F",updateAt:"\u6309\u4FEE\u6539\u65F6\u95F4\u6392\u5E8F"},i=Object.entries(a).map(([u,v])=>({key:u,label:v})),y=C(!1),c=C(0),d=De(e,"group"),P=u=>{n.value=u},_=T(()=>{let u=d.value?d.value.children:[];if(o.value){const v=o.value.toLowerCase();u=u.filter(D=>D.name.toLowerCase().includes(v))}return be(u,n.value)});return K("publish",u=>{y.value=!0,c.value=u}),{cdn:qo,searchText:o,sort:n,sorts:a,sortOpts:i,visiblePublish:y,publishAppId:c,screens:_,handleSortChange:P}}}),pe=e=>(se("data-v-987bbbc2"),e=e(),re(),e),To=pe(()=>t("div",{class:"new-projects-title"},"\u9009\u62E9\u4E0B\u9762\u7684\u65B9\u5F0F\u8FDB\u884C\u521B\u5EFA",-1)),Oo={class:"new-projects"},Mo=["src"],So=pe(()=>t("span",{class:"project-type ellipsis"},"PC\u7AEF\u521B\u5EFA",-1)),Fo={class:"project-header"},Ao={class:"project-title"},Ro={class:"header-manager"},ko={class:"search"},Bo={class:"sort-type"},No=["title"],Jo={class:"main-screen"};function Lo(e,o,n,a,i,y){const c=m("router-link"),d=m("IconSearch"),P=m("n-icon"),_=m("IconArrowDown"),u=m("n-dropdown"),v=m("my-screen"),D=m("publish-screen");return b(),I("div",null,[To,t("div",Oo,[r(c,{to:{name:"CreateScreen"},target:"_blank",class:"new-project"},{default:g(()=>[t("img",{src:`${e.cdn}/datav/new-project.png`},null,8,Mo),So]),_:1})]),t("div",Fo,[t("div",Ao,[t("h2",null,$(e.group?e.group.name:""),1)]),t("div",Ro,[t("div",ko,[R(t("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.searchText=s),class:"search-input",placeholder:"\u641C\u7D22"},null,512),[[te,e.searchText,void 0,{trim:!0}]])]),r(P,{class:"icon-search"},{default:g(()=>[r(d)]),_:1}),r(u,{options:e.sortOpts,"show-arrow":!0,onSelect:e.handleSortChange},{default:g(()=>[t("div",Bo,[t("span",{class:"sort-text",title:e.sorts[e.sort]},$(e.sorts[e.sort]),9,No),r(P,{class:"icon-arrow"},{default:g(()=>[r(_)]),_:1})])]),_:1},8,["options","onSelect"])])]),t("div",Jo,[(b(!0),I(Y,null,ne(e.screens,s=>(b(),I("div",{key:s.id},[r(v,{screen:s},null,8,["screen"])]))),128))]),r(D,{modelValue:e.visiblePublish,"onUpdate:modelValue":o[1]||(o[1]=s=>e.visiblePublish=s),"project-id":e.publishAppId},null,8,["modelValue","project-id"])])}var Vo=k(Go,[["render",Lo],["__scopeId","data-v-987bbbc2"]]);const Zo=U({name:"MyProject",components:{ProjectList:Vo,IconPlus:Ne,IconEdit:ce,IconDelete:de},setup(){const e=x(),o=ee(),{getProjects:n,moveProject:a,createProjectGroup:i,deleteProjectGroup:y,updateProjectGroupName:c}=F,d=C(-1),P=C(!0),_=C(!1),u=C(!1),v=T(()=>F.group),D=T(()=>F.ungroup),s=T(()=>F.groups),f=T(()=>d.value===-1?v.value:d.value===0?D.value:s.value.find(p=>p.id===d.value)),O=p=>{d.value=p},j=p=>{if(!_.value)return;(p.target.value||"").trim()||(_.value=!1)},N=async p=>{if(!_.value)return;const l=(p.target.value||"").trim();if(l)try{_.value=!1,await i(l)}catch(h){e.error(h.message)}else _.value=!1},J=(p,l)=>{if(!l.editing)return;const h=(p.target.value||"").trim();(!h||l.name===h)&&(l.editing=!1)},L=async(p,l)=>{if(!l.editing)return;const h=(p.target.value||"").trim();if(h&&l.name!==h)try{await c({id:l.id,newName:h}),l.name=h,l.editing=!1}catch(Z){e.error(Z.message)}else l.editing=!1},V=p=>{const l=o.create({content:`${p.name} \u5220\u9664\u540E\u65E0\u6CD5\u6062\u590D\uFF0C\u8BE5\u5206\u7EC4\u4E2D\u7684\u53EF\u89C6\u5316\u5E94\u7528\u5C06\u5168\u90E8\u79FB\u52A8\u5230\u672A\u5206\u7EC4\uFF0C\u786E\u8BA4\u5220\u9664\uFF1F`,negativeText:"\u53D6\u6D88",positiveText:"\u786E\u5B9A",iconPlacement:"top",icon:()=>oe(ue),onPositiveClick:async()=>{l.loading=!0;try{await y(p.id),O(D.value.id)}catch(h){e.error(h.message)}}})};K("dragStart",()=>{u.value=!0}),K("dragEnd",()=>{u.value=!1});const A=p=>{Be(p.target,"drag-enter")},Q=p=>{le(p.target,"drag-enter")},W=(p,l)=>{p.preventDefault(),le(p.target,"drag-enter");const h=p.dataTransfer.getData("text");if(h){const[Z,H]=h.split(",").map(me=>parseInt(me));H!==l.id&&a({pid:Z,fromId:H,toId:l.id})}};return Ie(()=>{n().finally(()=>{P.value=!1})}),{loading:P,group:v,ungroup:D,groups:s,selectedGroup:f,selectedGroupId:d,adding:_,toggleProject:O,onAddInputBlur:j,addGroup:N,onEditInputBlur:J,editGroup:L,confirmDeleteGroup:V,draging:u,onDragEnter:A,onDragLeave:Q,onDrop:W}}}),Uo=e=>(se("data-v-10666675"),e=e(),re(),e),zo={class:"my-project"},Ko={class:"project-main"},Yo={class:"project-manage"},Qo={class:"manage-title"},Wo={class:"my-project project-group"},Ho=Uo(()=>t("span",{style:{"margin-left":"2px"}},"\u6211\u7684\u5206\u7EC4",-1)),Xo={class:"project-num"},xo={key:0,class:"new-group"},et={class:"project-name project-ungrouped"},ot={class:"project-num"},tt=["onClick","onDrop"],nt=["default-value","onBlur","onKeyup"],st={class:"project-name"},rt={class:"project-num"},at={class:"group-btns"},it={class:"project-screen-list"};function lt(e,o,n,a,i,y){const c=m("IconPlus"),d=m("n-icon"),P=m("IconEdit"),_=m("IconDelete"),u=m("project-list"),v=m("g-loading"),D=Ce("focus");return b(),I("div",zo,[t("div",Ko,[t("div",Yo,[t("div",Qo,[t("div",Wo,[Ho,r(d,{class:"btn-add-icon",onClick:o[0]||(o[0]=s=>e.adding=!0)},{default:g(()=>[r(c)]),_:1})]),t("div",{class:S(["my-project project-all",{"project-checked-color":e.selectedGroupId===e.group.id}]),onClick:o[1]||(o[1]=s=>e.toggleProject(e.group.id))},[t("span",null,$(e.group.name),1),t("span",Xo,$(e.group.children.length),1)],2),e.adding?(b(),I("div",xo,[R(t("input",{class:"edit-input",onBlur:o[2]||(o[2]=(...s)=>e.onAddInputBlur&&e.onAddInputBlur(...s)),onKeyup:o[3]||(o[3]=ae((...s)=>e.addGroup&&e.addGroup(...s),["enter"]))},null,544),[[D]])])):$e("",!0)]),t("div",{class:S(["manage-main",{draging:e.draging}])},[t("div",{class:S(["main-project",{"project-checked-color":e.selectedGroupId===e.ungroup.id}]),onClick:o[4]||(o[4]=s=>e.toggleProject(e.ungroup.id)),onDragover:o[5]||(o[5]=ie(()=>{},["prevent"])),onDragenter:o[6]||(o[6]=(...s)=>e.onDragEnter&&e.onDragEnter(...s)),onDragleave:o[7]||(o[7]=(...s)=>e.onDragLeave&&e.onDragLeave(...s)),onDrop:o[8]||(o[8]=s=>e.onDrop(s,e.ungroup))},[t("span",et,$(e.ungroup.name),1),t("span",ot,$(e.ungroup.children.length),1)],34),(b(!0),I(Y,null,ne(e.groups,s=>(b(),I("div",{key:s.id,class:S(["main-project group-project",{"project-checked-color":e.selectedGroupId===s.id}]),onClick:f=>e.toggleProject(s.id),onDragover:o[9]||(o[9]=ie(()=>{},["prevent"])),onDragenter:o[10]||(o[10]=(...f)=>e.onDragEnter&&e.onDragEnter(...f)),onDragleave:o[11]||(o[11]=(...f)=>e.onDragLeave&&e.onDragLeave(...f)),onDrop:f=>e.onDrop(f,s)},[s.editing?R((b(),I("input",{key:0,"default-value":s.name,class:"edit-input",onBlur:f=>e.onEditInputBlur(f,s),onKeyup:ae(f=>e.editGroup(f,s),["enter"])},null,40,nt)),[[D]]):(b(),I(Y,{key:1},[t("span",st,$(s.name),1),t("span",rt,$(s.children.length),1),t("span",at,[r(d,{onClick:f=>s.editing=!0},{default:g(()=>[r(P)]),_:2},1032,["onClick"]),r(d,{class:"btn-add-icon",onClick:f=>e.confirmDeleteGroup(s)},{default:g(()=>[r(_)]),_:2},1032,["onClick"])])],64))],42,tt))),128))],2)]),t("div",it,[r(v,{spinning:e.loading},{default:g(()=>[r(u,{group:e.selectedGroup},null,8,["group"])]),_:1},8,["spinning"])])])])}var wt=k(Zo,[["render",lt],["__scopeId","data-v-10666675"]]);export{wt as default};
