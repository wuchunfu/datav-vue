var H=Object.defineProperty;var B=(i,e,a)=>e in i?H(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a;var v=(i,e,a)=>(B(i,typeof e!="symbol"?e+"":e,a),a);import{a4 as p,a8 as m,ab as r,a2 as M,b9 as S,b7 as b,D,a3 as _,ac as $,ad as E,aY as g,b0 as x,ae as N,aa as A,b1 as T,ba as P,a7 as C,as as V,ah as F,aB as j,a5 as I,af as W,a9 as R,bb as L,bc as z}from"./vendor.1e2d2fe8.js";import{b as k,U as X}from"./App.341e2996.js";import{I as q}from"./arrow-down.0a0aeec7.js";import{I as G}from"./document.61510b73.js";import{I as U}from"./tutorial.455951a1.js";import{I as O}from"./my-com.8d6d0f74.js";import{I as Y}from"./my-data.210af57c.js";import{I as J}from"./layer.61a30e2b.js";const K={},Q={t:"1629556429050",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4369","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"64",height:"64"},Z=r("path",{d:"M172.08888854 967.11111147a45.51111147 45.51111147 0 0 1-45.5111104-45.51111147V102.4a45.51111147 45.51111147 0 0 1 45.5111104-45.51111147h637.15555626a45.51111147 45.51111147 0 0 1 45.5111104 45.51111147v136.53333333h-91.02222186V147.91111147H217.6v728.17777706h546.13333334v-91.02222186h91.02222186v136.53333333a45.51111147 45.51111147 0 0 1-45.5111104 45.51111147H172.08888854z m591.6444448-273.06666667v-136.53333333h-318.57777814v-91.02222294h318.57777814V329.9555552l227.5555552 182.0444448-227.5555552 182.0444448z","p-id":"4370"},null,-1),tt=[Z];function et(i,e){return p(),m("svg",Q,tt)}var at=k(K,[["render",et]]);const nt="//files.pengxiaotian.com",st=M({name:"NavHeader",components:{IconArrowDown:q},props:{isFixed:{type:Boolean,default:!1}},setup(){const{name:i,avatar:e,doLogout:a}=X(),t=S(),n=[{label:"\u5E2E\u52A9\u6587\u6863",key:"doc",icon:()=>b(D,null,{default:()=>b(G)})},{type:"divider",key:"d1"},{label:"\u9000\u51FA",key:"logout",icon:()=>b(D,null,{default:()=>b(at)})}],s=()=>{a().then(()=>{t.push({name:"Login"})})};return{cdn:nt,userName:i,avatar:e,profileOpts:n,handleProfileSelect:c=>{c==="logout"&&s()}}}}),ot={class:"logo"},it={class:"top-tip"},ct=r("strong",{class:"tip-strong"},"\u516C\u544A",-1),rt={class:"datav-marquee"},dt={class:"content"},lt=T(" 1. DataV \u4EC5\u652F\u6301\u8C37\u6B4C Chrome \u6D4F\u89C8\u5668\u7248\u672C 60 \u4EE5\u4E0A\u30022. DataV \u57FA\u4E8E Vue 3.x \u5F00\u53D1\u30023. \u9879\u76EE\u5730\u5740\uFF1A"),ht=r("a",{href:"https://github.com/pengxiaotian/datav-vue",target:"_blank",class:"project-href"},"https://github.com/pengxiaotian/datav-vue",-1),ut=r("span",{class:"content-space"},null,-1),pt={class:"user"},_t={class:"header-item"},vt={class:"user-link-wrap"},mt={class:"user-link"},gt={class:"datav-nav"},ft={class:"header-img"},wt=["src"],yt=r("div",{class:"nav-img"},null,-1);function bt(i,e,a,t,n,s){const o=_("n-avatar"),c=_("IconArrowDown"),d=_("n-icon"),h=_("n-dropdown");return p(),m("div",null,[r("div",{class:"datav-hearder",style:A({background:i.isFixed?"#171b22":""})},[r("div",ot,[r("div",it,[ct,r("div",rt,[r("span",dt,[(p(),m($,null,E(2,f=>(p(),m($,{key:f},[lt,ht,ut],64))),64))])])])]),r("div",pt,[r("div",_t,[g(h,{options:i.profileOpts,placement:"bottom-end","show-arrow":!0,onSelect:i.handleProfileSelect},{default:x(()=>[r("span",vt,[g(o,{round:"",size:20,src:i.avatar+"?imageView2/1/w/80/h/80"},null,8,["src"]),r("span",mt,N(i.userName),1),g(d,{size:14},{default:x(()=>[g(c)]),_:1})])]),_:1},8,["options","onSelect"])])])],4),r("div",gt,[r("div",ft,[r("img",{class:"nav-img-text",src:`${i.cdn}/datav/nav-img-text.png`},null,8,wt),yt])])])}var Ct=k(st,[["render",bt]]);class It{constructor(e,a,t=0){v(this,"j",.85);v(this,"k",10);v(this,"l",4);v(this,"canvas");v(this,"tabs");v(this,"pattern",null);v(this,"tabWidthList",[]);v(this,"tabHeight",0);v(this,"opt",{currentIndex:0,nextIndex:1,speed:1,timer:0,width:200,height:100,animating:!1,curDisX:0,distance:0});this.canvas=document.getElementById(e),this.tabs=document.querySelectorAll(a);const{opt:n}=this;this.calcTabs(),this.initCanvas(this.canvas,n.width,n.height),this.createPattern(this.canvas),this.startDraw(0),this.toggle(t)}initCanvas(e,a,t){const n=e.getContext("2d"),{devicePixelRatio:s}=window;e.width=a*s,e.height=t*s,e.style.width=`${a}px`,e.style.height=`${t}px`,n.scale(s,s)}calcTabs(){const{opt:e,tabs:a}=this,t=[];let n=0;a.forEach(s=>{t.push(n),n+=s.offsetWidth}),t[0]=-20,t.push(n),this.tabWidthList=t,this.tabHeight=a[0].offsetHeight+0,e.height=this.tabHeight+20,e.width=window.innerWidth}createPattern(e){const a=140,t=63,n=1,s=document.createElement("canvas");s.width=a,s.height=t,s.style.width=`${a/n}px`,s.style.height=`${t/n}px`;const o=s.getContext("2d");o.scale(n,n),o.lineWidth=.4;for(let c=3,d=.8,h=1;30>h;h++)o.strokeStyle=`RGBA(22, 120, 160, ${d})`,o.beginPath(),o.moveTo(0,h*c),o.lineTo(a,h*c),o.stroke(),o.closePath(),10<h&&(d-=.1);this.pattern=e.getContext("2d").createPattern(s,"repeat-x")}calcAVGSpeed(e){const{l:a,j:t,k:n}=this;let s=(a*t*e+n*(1-t)*e)/(n*a*20);return s=Math.max(Math.abs(s),2.5)*Math.sign(s),s}getCurSpeed(e,a){const{l:t,j:n,k:s,opt:o}=this;return Math.abs(e)>Math.abs(n*a)?t*o.speed:s*o.speed}calCurve(e,a,t,n,s,o){e.bezierCurveTo(a+o,t,n-o,s,n,s)}drawHightlight(e){const{opt:a}=this,t=this.canvas.getContext("2d"),n=.3;t.clearRect(0,0,2*a.width,2*a.height),t.shadowColor="rgba(36, 131, 255, 1)",t.shadowBlur=5,t.strokeStyle="#004CB3",t.lineWidth=.8,t.fillStyle="none",this.draw(t,!1);const s=t.createLinearGradient(0,0,a.width,a.height),o=e-n;s.addColorStop(Math.min(1,Math.max(0,0+o)),"rgba(0,0,0,0)"),s.addColorStop(Math.min(1,Math.max(0,0+o+.1)),"#8ed6ff"),s.addColorStop(Math.min(1,0+o+n),"#8ed6ff"),s.addColorStop(Math.min(1,0+o+n+.1),"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,0)"),t.lineWidth=1.5,t.strokeStyle=s,t.fillStyle=this.pattern,this.draw(t,!0)}startDraw(e){this.drawHightlight(e),this.opt.timer=requestAnimationFrame(()=>{this.startDraw((e+.005)%1.6)})}draw(e,a){const{opt:t,tabWidthList:n,tabHeight:s}=this,o=t.currentIndex,c=s,d=0,h=40,f=20,l=.5,w=2.5;let u=0;if(e.beginPath(),e.moveTo(-50,t.height+10),e.lineTo(-50,c+l),t.animating){const y=this.getCurSpeed(t.curDisX,t.distance);u=Math.min(Math.abs(t.distance),Math.abs(t.curDisX+y))*Math.sign(y)}if(e.lineTo(d+n[o]+u-h/2,c+l),this.calCurve(e,d+n[o]+u-h/2,c+l,d+n[o]+u+h/2,w+l,f),t.animating){const y=n[t.nextIndex+1]-n[t.nextIndex];e.lineTo(d+n[o]+y+u-h/2,w+l),this.calCurve(e,d+n[o]+y+u-h/2,w+l,d+n[o]+y+u+h/2,c+l,f)}else e.lineTo(d+n[o+1]+u-h/2,w+l),this.calCurve(e,d+n[o+1]+u-h/2,w+l,d+n[o+1]+u+h/2,c+l,f);e.lineTo(t.width+10,c+l),e.lineTo(t.width+10,t.height+10),e.closePath(),e.stroke(),a&&e.fill(),a&&t.animating&&(t.curDisX=u,Math.abs(u)>=Math.abs(t.distance)&&(t.animating=!1,t.currentIndex=t.nextIndex))}toggle(e){const{opt:a,tabWidthList:t}=this;e!==a.currentIndex&&t&&t.length&&(!a.animating||e!==a.nextIndex)&&(a.animating=!0,a.distance=t[e]-t[a.currentIndex],a.speed=this.calcAVGSpeed(a.distance),a.curDisX=0,a.nextIndex=e)}resize(){const{opt:e}=this;e.timer&&cancelAnimationFrame(e.timer),this.calcTabs(),this.initCanvas(this.canvas,e.width,e.height),this.startDraw(0)}}const kt=M({name:"NavMain",components:{IconLayer:J,IconMyData:Y,IconMyCom:O,IconTutorial:U},props:{navs:{type:Array,required:!0}},emits:["change"],setup(i,e){const a=P(),t=C(0);let n=null;const s=c=>{n&&(t.value=c.id,n.toggle(c.id),e.emit("change",c))},o=V(()=>{n&&n.resize()},500);return F(()=>{const c=i.navs.find(d=>d.key===a.name);t.value=c?c.id:0,n=new It("nav-canvas",".nav-main .nav-span",t.value),window.addEventListener("resize",o)}),j(()=>{window.removeEventListener("resize",o)}),{toggleNav:s,activeNav:t}}}),Mt=i=>(L("data-v-742ce1e9"),i=i(),z(),i),$t={class:"nav-main"},xt=Mt(()=>r("canvas",{id:"nav-canvas",style:{position:"absolute","z-index":"-1",left:"0"}},null,-1)),St=["onClick"];function Dt(i,e,a,t,n,s){const o=_("IconLayer"),c=_("IconMyData"),d=_("IconMyCom"),h=_("IconTutorial"),f=_("n-icon");return p(),m("div",$t,[xt,(p(!0),m($,null,E(i.navs,l=>(p(),m("span",{key:l.id,class:"nav-span"},[r("a",{class:R(["nav-link",{"nav-active":i.activeNav===l.id}]),onClick:w=>i.toggleNav(l)},[g(f,{class:"nav-icon",size:20},{default:x(()=>[l.key==="MyProject"?(p(),I(o,{key:0})):l.key==="MyData"?(p(),I(c,{key:1})):l.key==="MyCom"?(p(),I(d,{key:2})):l.key==="MyCase"?(p(),I(h,{key:3})):W("",!0)]),_:2},1024),T(" "+N(l.name),1)],10,St)]))),128))])}var Et=k(kt,[["render",Dt],["__scopeId","data-v-742ce1e9"]]);const Nt=M({name:"Home",components:{NavHeader:Ct,NavMain:Et},setup(){const i=C(null),e=C(!1),a=C([{id:0,key:"MyProject",name:"\u6211\u7684\u53EF\u89C6\u5316"},{id:1,key:"MyData",name:"\u6211\u7684\u6570\u636E"},{id:2,key:"MyCom",name:"\u6211\u7684\u7EC4\u4EF6"},{id:3,key:"MyCase",name:"\u6559\u7A0B"}]),t=S(),n=()=>{e.value=i.value.$el.offsetTop>200},s=o=>{t.push({name:o.key})};return F(()=>{window.addEventListener("scroll",n)}),j(()=>{window.removeEventListener("scroll",n)}),{navMainRef:i,isFixed:e,navs:a,onNavChange:s}}}),At=i=>(L("data-v-60aad650"),i=i(),z(),i),Tt={class:"datav"},Ft=At(()=>r("div",{class:"nav-shadow"},null,-1)),jt={class:"datav-main"},Lt={class:"datav-content"};function zt(i,e,a,t,n,s){const o=_("nav-header"),c=_("nav-main"),d=_("router-view");return p(),m("div",Tt,[g(o,{"is-fixed":i.isFixed},null,8,["is-fixed"]),g(c,{ref:"navMainRef",navs:i.navs,style:A({background:i.isFixed?"var(--datav-body-bg)":""}),onChange:i.onNavChange},null,8,["navs","style","onChange"]),Ft,r("div",jt,[r("div",Lt,[g(d)])])])}var Ut=k(Nt,[["render",zt],["__scopeId","data-v-60aad650"]]);export{Ut as default};
